<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>Chess</title>
        <style>
            .greenname {
                background: #82ca13;
                color: green;
                border: 1px solid green;
                border-radius: 0.1em;
            }
            .yellowname {
                background: #82ca13;
                color: #f9cf82;
                border: 1px solid green;
                border-radius: 0.1em;
            }
            .highlight {
                color: red;
            }
            
            .table,table tr th, table tr td {
                border:1px solid rgb(185, 185, 185); 
            }
            .table tr th, .table tr td {
                min-width: 48px;
            }
            .table tr {
                height: 51px;
            }
            .table {
                text-align: center; 
                border-collapse: collapse; 
                padding:2px;
                border-radius: 5px;
            }
            .hide {
                background: #eaeaea;
                cursor: pointer;
            }

            .go-empty {
                border: 3px solid rgb(6, 248, 127); 
                background: rgba(6, 248, 127, 0.2);
                width: 46px; 
                height: 46px;
                position: absolute;
                cursor: pointer;
            }
            .go-kill {
                z-index: 1000;
                border: 3px solid rgb(248, 75, 6); 
                background: rgba(248, 75, 6, 0.2);
                width: 46px; 
                height: 46px;
                position: absolute;
                cursor: pointer;
            }
            .go-ride {
                z-index: 1000;
                border: 3px solid rgb(6, 180, 248); 
                background: rgba(6, 180, 248, 0.2);
                width: 46px; 
                height: 46px;
                position: absolute;
                cursor: pointer;
            }
            .effect-frozen {
                background: rgba(6, 180, 248, 0.2);
                width: 52px; 
                height: 52px;
                position: absolute;
            }

            .piece {
                padding-top: 12px; 
                text-align: center; 
                border: 1px solid rgb(185, 185, 185); 
                border-radius: 50%; 
                width: 50px; 
                height: 38px;
                position: absolute;
                color: white;
            }
            .teami {
                background: red;
            }
            .teamii {
                background: blue;
            }
            .instr {
                background: grey;
            }

            .box {
                position: absolute;
                z-index: 1000;
                padding: 5px 0;
                list-style: none;
                font-size: 14px;
                text-align: left;
                background-color: #fff;
                border: 1px solid rgba(0,0,0,0.15);
                border-radius: 3px;
                box-shadow: 0 6px 12px rgb(0 0 0 / 18%);
                background-clip: padding-box;
            }
            .menu-box {
                bottom: 50px;
                left: 110px;
                display: none;
                min-width: 200px;
            }
            .menu-box .menu-item {
                list-style: none;
                box-sizing: border-box;
                display: block;
                padding: 3px 20px;
                clear: both;
                font-weight: normal;
                line-height: 1.42857143;
                color: #333;
                white-space: nowrap;
                cursor: pointer;
            }
            .menu-box .menu-item span {
                font-size: x-small;
                border: 1px solid rgb(185, 185, 185);
                border-radius: 4px;
                color: rgb(185, 185, 185);
                padding: 0px 4px;
            }
            .menu-box .menu-item:hover {
                background: #eaeaea;
            }
            .menu-box .devider {
                height: 1px;
                margin: 9px 0;
                overflow: hidden;
                background-color: #e5e5e5;
            }

            .button {
                border-radius: 50%; 
                display: inline-block; 
                margin: 0 4px; 
                padding: 12px;
                overflow: hidden; 
                vertical-align: middle; 
                cursor: pointer; 
                height: 24px; 
                width: 24px; 
                flex: 0 0 auto; 
                white-space: nowrap; 
                font: 13px/27px Roboto,RobotoDraft,Arial,sans-serif; 
                z-index: 986;
            }
            .button:hover {
                background: #eaeaea;
            }
/* 
            @keyframes rotateGreen {
                from {
                    transform-origin: 50% 50%;
                    transform: rotate(0deg);
                }
                to {
                    transform-origin: 50% 50%;
                    transform: rotate(120deg);
                }
            } */
        </style>
        <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
        <script>
            // Copyright (c) 2021 Max Yellow. All rights reserved.
            function new_web(webUrl)
            {
                window.open(webUrl); 
            }
            function open_web(webUrl)
            {
                location = webUrl; 
            }
            function mathjax_dy(elementId) {
                if (!window.MathJax) {
                    return;
                }
                window.MathJax.Hub.Queue(["Typeset", window.MathJax.Hub, document.getElementById(elementId)]);
            }
            function pos(x, y)
            {
                return "top: " + (8 + Number(x) * 51) + "px; left: " + (8 + Number(y) * 51) + "px;"; 
            }
            function posB(item) {
                let x = item.style.top, y = item.style.left; 
                return [(Number(x.substr(0, x.length-2)) - 8) / 51, (Number(y.substr(0, y.length-2)) - 8) / 51]; 
            }
            var board = [[-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1]]; 
            // For each board[x][y] in the array, if board[x][y] == 1 then there is nothing in the cell.
            // Otherwise board[x][y] == [TEAM(0/1), LEVEL(0-7), LEVEL NUMBER, BLOOD, 
            // SKILL(Array: [Its skill, Its horse's skill(If there is a horse)]), 
            // HORSE(Array: [(-1: Do not want to ride / 0: Want to ride / 1: Horse), Horse Info])]
            var shown = [[-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1]]; 
            var effect = [[-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1], 
            [-1, -1, -1, -1, -1, -1, -1, -1], [-1, -1, -1, -1, -1, -1, -1, -1]]; 
            var nam = [["ybj", "cyb"], ["kyl", "wyx"], ["lt", "qjh", "csh"], 
            ["fyh", "sbw", "xry", "qhy", "yxd"], ["mbj", "kpq", "yzh", "hyk"], 
            ["zcx"], ["ztzy"], ["lyf"]]; 
            var nameCN = [["俞伯驹", "陈怿白"], ["阚云雷", "王聿煊"], ["刘涛", "钱锦鸿", "陈思涵"], 
            ["范语涵", "孙博为", "熊若渔", "邱泓议", "郁肖栋"], ["马伯驹", "阚皮球", "姚宗昊", "华奕开"], 
            ["曾楚笑"], ["张田泽宇"], ["吕一凡"]]; 
            var skill = 
            [
                [[0], [1]], 
                [[11], [9, 10]], 
                [
                    [13], [16], 
                    [2, 3]
                ], 
                [[], [], [17], [4], []], 
                [[12], [6], [7], [14]], 
                [[]], [[15]], [[5, 8]]
            ]; 
            var ridable = 
            [
                [0, 0], [0, 0], [0, 0, 0], 
                [0, 0, 0, 0, 0], 
                [1, 1, 1, 1], 
                [0], [0], [1]
            ]; 
            var skillCN = ["金刚不坏：当受到攻击时，有50%的概率闪避；自己攻击不会受到伤害。", "箭步如飞：速度为3。", 
            "神威大炮：可以隔着一枚棋子远程攻打另一枚，伤害为13。", "瞄准张田：无视任何屏障直接对场内敌方张田泽宇进行攻击。", 
            "自习没了：任意一次操作后，50%的概率周围相邻的敌方棋子被罚自习，无法移动。", "迅捷小猴：速度为2。", 
            "跳跃皮球：跳过若干棋子或未翻开的格子。被攻击后后退1格。", "狡诈司机：可以开车。", "初生小猴：可以攻击场内所有角色。", 
            "锁骨之术：无法进行正常攻击。可以减少一根锁骨使距离为1的棋子减少3点血，距离为2的减少1点血。", 
            "锁骨御敌：每次受到攻击仅减少1点血。", "越吃越胖：攻击造成其他棋子几点伤害，自己增加几点血量。上限10点。", 
            "天降龟壳：触发本技能，自己减2血，周围8格内所有敌方棋子受到2点伤害。", 
            "飘飘所似：触发本技能进入量子态，免疫任何伤害，可以攻击任何棋子，速度为2。三回合后死亡。", 
            "不太正经：斜向开车", "耗子尾汁：同学，我汤姆劝你耗子尾汁，好好反思。", "生无可恋：死后随机带走一名敌方棋子。", 
            "道貌岸然：随机拥有一种未知技能。"]; 
            var skillCtrl = [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0]; 
            var blood = [[4, 4], [4, 2], [4, 4, 4], [3, 1, 4, 4, 6], [4, 4, 4, 4], [3], [4], [1]]; 
            var attack = [4, 3, 3, 2, 2, 1, 1, 1]; 
            var player = 0; 
            var going = 0; 
            var killedi = 0, killedii = 0; 
            // Skill Parameters
            var ltSkill = [0, 0]; 
            var xrySkill = [-1, -1]; 
            window.onload = function() {
                $("#board tr td").addClass("hide"); 
                for (let i = 0; i < 8; i++)
                {
                    let xI = Math.floor(Math.random() * 1000) % 8,
                    yI = Math.floor(Math.random() * 999) % 8; 
                    while (board[xI][yI] != -1) xI = Math.floor(Math.random() * 1000) % 8,
                    yI = Math.floor(Math.random() * 999) % 8; 
                    let nameINum = Math.floor(Math.random() * 999) % nam[i].length; 
                    let nameI = nam[i][nameINum]; 
                    let ride = [1, 0]; 
                    if (ridable[i][nameINum] != 1) ride = [0]; 
                    document.body.innerHTML += "<div class=\"piece teami\" id=\"piece" + i
                    + "\" style=\"" + pos(xI, yI) + "display: none;\" onclick=\"control(" + xI + ", " + yI
                    + ")\">" + nameI + "</div>"; 
                    board[xI][yI] = [0, i, nameINum, blood[i][nameINum], [skill[i][nameINum]], ride]; 
                    if (haveSkill(xI, yI, 17))
                    {
                        xrySkill[0] = Math.floor(Math.random() * 997) % skillCN.length; 
                        board[xI][yI][4][0].push(xrySkill[0]); 
                    }
                }
                for (let i = 0; i < 8; i++)
                {
                    let xI = Math.floor(Math.random() * 1000) % 8,
                    yI = Math.floor(Math.random() * 999) % 8; 
                    while (board[xI][yI] != -1) xI = Math.floor(Math.random() * 1000) % 8,
                    yI = Math.floor(Math.random() * 999) % 8; 
                    let nameINum = Math.floor(Math.random() * 999) % nam[i].length; 
                    let nameI = nam[i][nameINum]; 
                    let ride = [1, 0]; 
                    if (ridable[i][nameINum] != 1) ride = [0]; 
                    document.body.innerHTML += "<div class=\"piece teamii\" id=\"piece" + String(Number(i) + 16)
                    + "\" style=\"" + pos(xI, yI) + "display: none;\" onclick=\"control(" + xI + ", " + yI
                    + ")\">" + nameI + "</div>"; 
                    board[xI][yI] = [1, i, nameINum, blood[i][nameINum], [skill[i][nameINum]], ride]; 
                    if (haveSkill(xI, yI, 17))
                    {
                        xrySkill[1] = Math.floor(Math.random() * 997) % skillCN.length; 
                        board[xI][yI][4][0].push(xrySkill[1]); 
                    }
                }
                for (let i = 0; i < 8; i++)
                {
                    for (let j = 0; j < nam[i].length; j++)
                    document.body.innerHTML += "<div class=\"piece instr\" style=\""
                    + pos(i, j + 12) + "\">" + nam[i][j] + "</div>"; 
                }
            }
            function showPiece(x, y, t) {
                $("#go").empty(); 
                $("#control").fadeOut(); 
                going = 0; 
                let boardXY = board[x][y]; 
                $("#board").children("tr").eq(x).children("td").eq(y).removeClass("hide"); 
                if (boardXY != -1) document.getElementById("piece"
                + String(Number(boardXY[0]) * 16 + Number(boardXY[1]))).style.display = "inline"; 
                player = 1 - player; 
                if (player == 0) document.getElementById("player").style.background = "red"; 
                else document.getElementById("player").style.background = "blue"; 
                shown[x][y] = 0; 
                t.onclick = function () {}; 
                $("#showSkill").empty(); 
                let qhy = document.getElementById("piece" + String(16 * (1 - Number(player)) + 3)); 
                let qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                qhy = document.getElementById("piece" + String(16 * Number(player) + 3)); 
                qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                if (ltSkill[1 - player])
                {
                    let lt = document.getElementById("piece" + String(16 * Number(1 - player) + 2)); 
                    lt.style.opacity = "0.5"; 
                    let ltx = posB(lt)[0], lty = posB(lt)[1]; 
                    ltSkill[1 - player]--; 
                    if (ltSkill[1 - player] == 0)
                    {
                        attacking(20, ltx, lty); 
                        findDead(); 
                        if (board[ltx][lty] != -1)
                        {
                            attacking(20, ltx, lty); 
                            findDead(); 
                        }
                    }
                }
                if (ltSkill[player])
                    document.getElementById("piece" + String(16 * Number(player) + 2)).style.opacity = "0.5"; 
            }
            function openName(name)
            {
                localStorage.setItem("school.resume.name", name); 
                localStorage.setItem("school.resume.logged", "logged"); 
                new_web("../.."); 
            }
            function chooseWay(leftWay, x, y, lx, ly) {
                if ((x != lx || y != ly) && document.getElementById("go" + x + "," + y) == null)
                document.getElementById("go").innerHTML
                += "<div class=\"go-empty\" onclick=\"go(" + lx + ", " + ly + ", "
                + x + ", " + y + ")\" style=\"" + pos(x, y) + "\" id=\"go" + x + "," + y + "\"></div>"; 
                // console.log(x, y, lx, ly); 

                if (leftWay == 0) return; 

                let dx = [-1, 0, 1, 0, 1, 1, -1, -1], dy = [0, -1, 0, 1, 1, -1, 1, -1]; 
                for (let d = 0; d < 4; d++)
                {
                    let nx = Number(x) + Number(dx[d]), ny = Number(y) + Number(dy[d]); 
                    if (nx < 0 || nx >= 8 || ny < 0 || ny >= 8) continue; 
                    let kylx = nx, kyly = ny; 
                    while (haveSkill(lx, ly, 6) && !(board[kylx][kyly] == -1 && shown[kylx][kyly] != -1))
                    {
                        kylx += Number(dx[d]); 
                        kyly += Number(dy[d]); console.log(kylx, kyly); 
                        if (kylx < 0 || kylx >= 8 || kyly < 0 || kyly >= 8)
                        {
                            kylx = nx; kyly = ny; 
                            break; 
                        }
                    }
                    if (kylx != nx || kyly != ny) chooseWay(leftWay - 1, kylx, kyly, lx, ly); 
                    if (board[nx][ny] != -1 && board[nx][ny][5][0] == 1
                    && (nx != lx || ny != ly) && shown[nx][ny] != -1
                    && (board[nx][ny][1] >= board[lx][ly][1] || (haveSkill(lx, ly, 13) && ltSkill[player]))
                    && board[lx][ly][5][0] == 0)
                    {
                        document.getElementById("go").innerHTML
                        += "<div class=\"go-ride\" onclick=\"go(" + lx + ", " + ly + ", "
                        + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\"></div>"; 
                        continue; 
                    }
                    if (board[nx][ny][0] == player || shown[nx][ny] == -1) continue; 
                    if (board[nx][ny] == -1) chooseWay(leftWay - 1, nx, ny, lx, ly); 
                    else if (board[nx][ny][0] != player
                    && (board[nx][ny][1] >= board[lx][ly][1] || haveSkill(lx, ly, 8)
                    || (haveSkill(lx, ly, 13) && ltSkill[player]))
                    && !haveSkill(lx, ly, 9)){
                    document.getElementById("go").innerHTML
                    += "<div class=\"go-kill\" onclick=\"go(" + lx + ", " + ly + ", "
                    + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\"></div>"; 
                    }
                }
            }
            function haveSkill(x, y, skillNum) {
                if (board[x][y] == -1) return false; 
                let skillXY = board[x][y][4]; 
                for (let i = 0; i < skillXY.length; i++) if (skillXY[i].lastIndexOf(skillNum) != -1) return true; 
                return false; 
            }
            function allowRide(t, x, y) {
                $("#control").fadeOut(); 
                $("#go").empty(); 
                going = 0; 
                if (t.src[t.src.length - 5] == "e")
                {
                    t.src = "../../img/riding-horse-grey.png"; 
                    board[x][y][5][0] = -1; 
                }
                else
                {
                    t.src = "../../img/riding-horse.png"; 
                    board[x][y][5][0] = 0; 
                }
            }
            function control(x, y) {$("#control").fadeToggle(function () {
                $("#blood").empty(); 
                let boardXY = board[x][y]; 
                let srcXY = "../../img/"; 
                let skillXY = skill[boardXY[1]][boardXY[2]]; 
                if (nam[boardXY[1]][boardXY[2]] == "lyf") srcXY += "lyf.gif"; 
                else srcXY += nam[boardXY[1]][boardXY[2]] + ".png"; 
                document.getElementById("control-img").src = srcXY; 
                document.getElementById("control-name").innerHTML = nameCN[boardXY[1]][boardXY[2]]; 
                document.getElementById("control").style.left = "416px"; 
                document.getElementById("control").style.top = String(8 + Number(x) * 51) + "px"; 
                if (haveSkill(x, y, 9) || haveSkill(x, y, 10))
                {
                    for (let i = 0; i < boardXY[3]; i++)
                    document.getElementById("blood").innerHTML
                    += "<img src=\"../../img/bone.png\" style=\"width: 25px\">"; 
                    for (let i = boardXY[3]; i < 2; i++)
                    document.getElementById("blood").innerHTML
                    += "<img src=\"../../img/bone-broken.png\" style=\"width: 25px\">"; 
                }
                else for (let i = 0; i < boardXY[3]; i++) document.getElementById("blood").innerHTML
                += "<img src=\"../../img/heart.png\" style=\"width: 25px\">"; 
                if (boardXY[5][0] == 1)
                {
                    document.getElementById("ridable").innerHTML
                    = "<img src=\"../../img/horse.png\" style=\"width: 20px\">"; 
                    if (boardXY[5][1] == 0) document.getElementById("ridable").innerHTML
                    += "<img src=\"../../img/unlocked.png\" style=\"width: 20px\">"; 
                    document.getElementById("horse").innerHTML = "无"; 
                    document.getElementById("horse").style.fontWeight = "none"; 
                    document.getElementById("horse-blood").innerHTML = ""; 
                    document.getElementById("horse-skill").innerHTML = ""; 
                }
                else
                {
                    if (boardXY[5][0] == 0) document.getElementById("ridable").innerHTML
                    = "<img src=\"../../img/riding-horse.png\" style=\"width: 20px; cursor: pointer\""
                    + "onclick=\"allowRide(this, " + x + ", " + y + ")\">"; 
                    else document.getElementById("ridable").innerHTML
                    = "<img src=\"../../img/riding-horse-grey.png\" style=\"width: 20px; cursor: pointer\""
                    + "onclick=\"allowRide(this, " + x + ", " + y + ")\">"; 
                    if (boardXY[5].length > 1)
                    {
                        document.getElementById("horse").style.fontWeight = "bold"; 
                        document.getElementById("horse").innerHTML = nameCN[boardXY[5][1][1]][boardXY[5][1][2]]; 
                        document.getElementById("horse-blood").innerHTML = ""; 
                        for (let i = 0; i < boardXY[5][1][3]; i++) document.getElementById("horse-blood").innerHTML
                        += "<img src=\"../../img/heart.png\" style=\"width: 25px\">"; 
                        let skillNXY = skill[boardXY[5][1][1]][boardXY[5][1][2]]; 
                        document.getElementById("horse-skill").innerHTML = ""; 
                        for (let i = 0; i < skillNXY.length; i++) document.getElementById("horse-skill").innerHTML
                        += "<li>" + skillCN[skillNXY[i]]
                        + ((skillCtrl[skillNXY[i]] == 1 && boardXY[0] == player)
                        ? "<button style=\"float: right\" onclick=\"skillGo(" + skillNXY[i] + ", " + x + ", " + y
                        + ")\">ON</button>" : "")
                        + "</li>"; 
                    }
                    else
                    {
                        document.getElementById("horse").innerHTML
                        = "无"; 
                        document.getElementById("horse-blood").innerHTML = ""; 
                        document.getElementById("horse-skill").innerHTML = ""; 
                    }
                }
                document.getElementById("skill").innerHTML = ""; 
                for (let i = 0; i < skillXY.length; i++)
                {
                    document.getElementById("skill").innerHTML
                    += "<li>" + skillCN[skillXY[i]]
                    + ((skillCtrl[skillXY[i]] == 1 && boardXY[0] == player && !(haveSkill(x, y, 13) && ltSkill[player]))
                    ? "<button style=\"float: right\" onclick=\"skillGo(" + skillXY[i] + ", " + x + ", " + y
                    + ")\">ON</button>" : "")
                    + "</li>"; 
                    if (skillXY[i] == 17) break; 
                }
                if (player == boardXY[0] && going == 0)
                {
                    going = 2; 
                    let dx = [-1, 0, 1, 0, 1, 1, -1, -1], dy = [0, -1, 0, 1, 1, -1, 1, -1]; 
                    if (haveSkill(x, y, 1)) chooseWay(3, x, y, x, y); 
                    else if (haveSkill(x, y, 5) || (haveSkill(x, y, 13) && ltSkill[boardXY[0]]))
                        chooseWay(2, x, y, x, y); 
                    if (haveSkill(x, y, 7))
                    {
                        for (let d = 0; d < 4; d++)
                        {
                            let nx = Number(x) + Number(dx[d]), ny = Number(y) + Number(dy[d]); 
                            while (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] == -1 && shown[nx][ny] != -1)
                            {
                                document.getElementById("go").innerHTML
                                += "<div class=\"go-empty\" onclick=\"go(" + x + ", " + y + ", "
                                + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\" id=\"go"
                                + nx + "," + ny + "\"></div>"; 
                                nx += Number(dx[d]), ny += Number(dy[d]); 
                            }
                            if (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] != -1 && board[nx][ny][5][0] == 1
                            && shown[nx][ny] != -1 && board[nx][ny][1] >= board[x][y][1]
                            && board[x][y][5][0] == 0)
                            {
                                document.getElementById("go").innerHTML
                                += "<div class=\"go-ride\" onclick=\"go(" + x + ", " + y + ", "
                                + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\"></div>"; 
                                continue; 
                            }
                            if (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8) && board[nx][ny] != -1
                            && shown[nx][ny] != -1 && board[x][y][1] <= board[nx][ny][1]
                            && board[nx][ny][0] != player)
                            document.getElementById("go").innerHTML
                            += "<div class=\"go-kill\" onclick=\"go(" + x + ", " + y + ", "
                            + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\" id=\"go"
                            + nx + "," + ny + "\"></div>"; 
                        }
                    }
                    if (haveSkill(x, y, 14))
                    {
                        for (let d = 4; d < 8; d++)
                        {
                            let nx = Number(x) + Number(dx[d]), ny = Number(y) + Number(dy[d]); 
                            while (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] == -1 && shown[nx][ny] != -1)
                            {
                                document.getElementById("go").innerHTML
                                += "<div class=\"go-empty\" onclick=\"go(" + x + ", " + y + ", "
                                + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\" id=\"go"
                                + nx + "," + ny + "\"></div>"; 
                                nx += Number(dx[d]), ny += Number(dy[d]); 
                            }
                            if (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] != -1 && board[nx][ny][5][0] == 1
                            && shown[nx][ny] != -1 && board[nx][ny][1] >= board[x][y][1]
                            && board[x][y][5][0] == 0)
                            {
                                document.getElementById("go").innerHTML
                                += "<div class=\"go-ride\" onclick=\"go(" + x + ", " + y + ", "
                                + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\"></div>"; 
                                continue; 
                            }
                            if (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8) && board[nx][ny] != -1
                            && shown[nx][ny] != -1 && board[x][y][1] <= board[nx][ny][1]
                            && board[nx][ny][0] != player)
                            document.getElementById("go").innerHTML
                            += "<div class=\"go-kill\" onclick=\"go(" + x + ", " + y + ", "
                            + nx + ", " + ny + ")\" style=\"" + pos(nx, ny) + "\" id=\"go"
                            + nx + "," + ny + "\"></div>"; 
                        }
                    }
                    chooseWay(1, x, y, x, y); 
                    let frozen = false; 
                    for (let d = 0; d < 8; d++)
                    {
                        let nx = Number(x) + Number(dx[d]), ny = Number(y) + Number(dy[d]); 
                        if (nx < 0 || nx >= 8 || ny < 0 || ny >= 8) continue; 
                        if (board[nx][ny][0] == player || shown[nx][ny] == -1 || board[nx][ny] == -1) continue; 
                        if (board[nx][ny][0] != player && haveSkill(nx, ny, 4) && effect[nx][ny] == 0)
                        {
                            frozen = true; break; 
                        }
                    }
                    if (frozen)
                    {
                        document.getElementById("go").innerHTML = ""; 
                        going = 0; 
                        return; 
                    }
                    if (haveSkill(x, y, 3))
                    {
                        let ztzy = document.getElementById("piece" + String(16 * (1 - Number(player)) + 6))
                        let ztx = posB(ztzy)[0], zty = posB(ztzy)[1]; 
                        if (shown[ztx][zty] == 0) document.getElementById("go").innerHTML
                        += "<div class=\"go-kill\" onclick=\"go(" + x + ", " + y + ", "
                        + ztx + ", " + zty + ", 10)\" style=\"" + pos(ztx, zty) + "\"></div>"; 
                    }
                    if (haveSkill(x, y, 2))
                    {
                        for (let d = 0; d < 4; d++)
                        {
                            let nx = Number(x) + dx[d], ny = Number(y) + dy[d]; 
                            while (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] == -1 && shown[nx][ny] == 0) nx += dx[d], ny += dy[d]; 
                            if ((nx < 0 || nx >= 8 || ny < 0 || ny >= 8) || shown[nx][ny] == -1) continue; 
                            nx += dx[d], ny += dy[d]; 
                            while (!(nx < 0 || nx >= 8 || ny < 0 || ny >= 8)
                            && board[nx][ny] == -1 && shown[nx][ny] == 0) nx += dx[d], ny += dy[d]; 
                            if ((nx < 0 || nx >= 8 || ny < 0 || ny >= 8) || shown[nx][ny] == -1) continue; 
                            if (board[nx][ny][0] == player) continue; 
                            document.getElementById("go").innerHTML
                            += "<div class=\"go-kill\" onclick=\"go(" + x + ", " + y + ", "
                            + nx + ", " + ny + ", 10)\" style=\"" + pos(nx, ny) + "\"></div>"; 
                        }
                    }
                }
                if (going == 1)
                {
                    $("#go").empty(); 
                    going = 0; 
                }
                if (going == 2) going = 1; 
            }); }
            function min(a, b) {
                if (a<b)return a; return b; 
            }
            function includes(arr, ele) {
                for (let i = 0; i < arr.length; i++)
                {
                    if (ele.length != arr[i].length) continue; 
                    let ok = true; 
                    for (let j = 0; j < ele.length; j++)
                        if (arr[i][j] != ele[j]) ok = false; 
                    if (ok == true) return true; 
                }
                return false; 
            }
            function skillGo(skillNum, x, y) {
                let bxy = board[x][y]; 
                let nkill = false; 
                $("#go").empty(); 
                $("#control").fadeOut(); 
                going = 0; 
                player = 1 - player; 
                if (player == 0) document.getElementById("player").style.background = "red"; 
                else document.getElementById("player").style.background = "blue"; 
                if (skillNum == 9)
                {
                    let dis = [[], []]; 
                    function bombJason(leftWay, mx, my, lx, ly) {
                        if ((mx != lx || my != ly) && !includes(dis[1 - leftWay], [mx, my])
                        && !(board[mx][my][0] != player || shown[mx][my] == -1 || board[mx][my] == -1))
                        dis[1 - leftWay].push([mx, my]); 

                        if (leftWay == 0) return; 

                        let dx = [-1, 0, 1, 0, 1, 1, -1, -1], dy = [0, -1, 0, 1, 1, -1, 1, -1]; 
                        for (let d = 0; d < 4; d++)
                        {
                            let nx = Number(mx) + Number(dx[d]), ny = Number(my) + Number(dy[d]); 
                            if (nx < 0 || nx >= 8 || ny < 0 || ny >= 8) continue; 
                            bombJason(leftWay - 1, nx, ny, lx, ly); 
                        }
                    }
                    bombJason(2, x, y, x, y); 
                    let attackJason = [3, 1]; 
                    for (let k = 0; k < 2; k++) for (let i = 0; i < dis[k].length; i++)
                    {
                        let atk = attackJason[k]; 
                        if (haveSkill(dis[k][i][0], dis[k][i][1], 10)) atk = 1; 
                        if ((!haveSkill(dis[k][i][0], dis[k][i][1], 0) || Math.random() > 0.5)
                        && !(haveSkill(dis[k][i][0], dis[k][i][1], 13) && ltSkill[player]))
                        attacking(atk, dis[k][i][0], dis[k][i][1]); 
                    }
                    attacking(1, x, y); 
                    findDead(); 
                    alert("bone-explode.png", "Jason Explode One of His Clavicles")
                }
                if (skillNum == 12)
                {
                    let dx = [-1, 0, 1, 0, 1, 1, -1, -1], dy = [0, -1, 0, 1, 1, -1, 1, -1]; 
                    for (let d = 0; d < 8; d++)
                    {
                        let nx = Number(x) + Number(dx[d]), ny = Number(y) + Number(dy[d]); 
                        if (nx < 0 || nx >= 8 || ny < 0 || ny >= 8) continue; 
                        if (board[nx][ny][0] != player || shown[nx][ny] == -1 || board[nx][ny] == -1) continue; 
                        if ((haveSkill(nx, ny, 0) && Math.random() > 0.5)
                        && !(haveSkill(dis[k][i][0], dis[k][i][1], 13) && ltSkill[player])) continue; 
                        attacking(2, nx, ny); 
                    }
                    attacking(2, x, y); 
                    findDead(); 
                }
                if (skillNum == 13)
                {
                    ltSkill[bxy[0]] = 4; 
                    document.getElementById("piece"
                    + String(Number(bxy[0]) * 16 + Number(bxy[1]))).style.opacity = "0.5"; 
                }
                $("#showSkill").empty(); 
                let qhy = document.getElementById("piece" + String(16 * (1 - Number(player)) + 3)); 
                let qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                qhy = document.getElementById("piece" + String(16 * Number(player) + 3)); 
                qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                if (ltSkill[1 - player])
                {
                    let lt = document.getElementById("piece" + String(16 * Number(1 - player) + 2)); 
                    lt.style.opacity = "0.5"; 
                    let ltx = posB(lt)[0], lty = posB(lt)[1]; 
                    ltSkill[1 - player]--; 
                    if (ltSkill[1 - player] == 0)
                    {
                        attacking(20, ltx, lty); 
                        findDead(); 
                        if (board[ltx][lty] != -1)
                        {
                            attacking(20, ltx, lty); 
                            findDead(); 
                        }
                    }
                }
                if (ltSkill[player])
                    document.getElementById("piece" + String(16 * Number(player) + 2)).style.opacity = "0.5"; 
            }
            function attacking(dec, x, y) {
                if (board[x][y][5].length > 1 && board[x][y][5][0] != 1)
                {
                    let res = min(board[x][y][5][1][3], dec); 
                    board[x][y][5][1][3] -= dec; 
                    return res; 
                }
                let res = min(board[x][y][3], dec)
                board[x][y][3] -= dec; 
                return res; 
            }
            function findDead() {
                let findAgain = false; 
                for (let i = 0; i < 8; i++) for (let j = 0; j < 8; j++)
                {
                    if (board[i][j] == -1) continue; 
                    if (board[i][j][3] <= 0)
                    {
                        let bxy = board[i][j]; 
                        if (haveSkill(i, j, 16))
                        {
                            let used = [0, 0, 0, 0, 0, 0, 0, 0]; 
                            while (1)
                            {
                                let knum = Math.floor(Math.random() * 17) % 8; 
                                if (used[knum] == 1)
                                {
                                    let notCom = false; 
                                    for (let i = 0; i < 8; i++) if (used[i] == 0)
                                    {
                                        notCom = true; 
                                        break; 
                                    }
                                    if (!notCom) break; 
                                    else continue; 
                                }
                                used[knum] = 1; 
                                let kitm = document.getElementById("piece"
                                + String((1 - Number(bxy[0])) * 16 + Number(knum))); 
                                let kx = posB(kitm)[0], ky = posB(kitm)[1]; 
                                if (ky <= 8 && shown[kx][ky] != -1)
                                {
                                    attacking(20, kx, ky); 
                                    findAgain = true; 
                                    break; 
                                }
                            }
                        }
                        if (bxy[5].length > 1 && bxy[5][0] != 1) {
                            if (bxy[5][1][0] == 0) document.getElementById("piece"
                            + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style = pos(killedi++, 9); 
                            else document.getElementById("piece"
                            + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style = pos(killedii++, 10); 
                            document.getElementById("piece"
                            + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style.display = "inline"; 
                            if (killedi == 8)
                            {
                                alert("congratulations.png", "Blue Wins!"); 
                            }
                            else if (killedii == 8)
                            {
                                alert("congratulations.png", "Red Wins!"); 
                            }
                            document.getElementById("piece"
                            + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).onclick = function () {}; 
                            board[i][j][5].splice(1, 1); 
                            board[i][j][4].splice(1, 1); 
                        }
                        if (bxy[0] == 0) document.getElementById("piece"
                        + String(Number(bxy[0]) * 16 + Number(bxy[1]))).style = pos(killedi++, 9); 
                        else document.getElementById("piece"
                        + String(Number(bxy[0]) * 16 + Number(bxy[1]))).style = pos(killedii++, 10); 
                        if (killedi == 8)
                        {
                            alert("congratulations.png", "Blue Wins!"); 
                        }
                        else if (killedii == 8)
                        {
                            alert("congratulations.png", "Red Wins!"); 
                        }
                        document.getElementById("piece"
                        + String(Number(bxy[0]) * 16 + Number(bxy[1]))).onclick = function () {}; 
                        board[i][j] = -1; 
                    }
                    else if (board[i][j][5].length > 1 && board[i][j][5][0] != 1 && board[i][j][5][1][3] <= 0)
                    {
                        let bxy = board[i][j]; 
                        if (bxy[5][1][0] == 0) document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style = pos(killedi++, 9); 
                        else document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style = pos(killedii++, 10); 
                        document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style.display = "inline"; 
                        if (killedi == 8)
                        {
                            alert("congratulations.png", "Blue Wins!"); 
                        }
                        else if (killedii == 8)
                        {
                            alert("congratulations.png", "Red Wins!"); 
                        }
                        document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).onclick = function () {}; 
                        board[i][j][5].splice(1, 1); 
                        board[i][j][4].splice(1, 1); 
                    }
                }

                if (findAgain) findDead(); 
            }
            function go(x, y, nx, ny, attackAddition = 0) {
                let bxy = board[x][y], nbxy = board[nx][ny]; 
                let nkill = false; 
                $("#go").empty(); 
                $("#control").fadeOut(); 
                going = 0; 
                player = 1 - player; 
                if (player == 0) document.getElementById("player").style.background = "red"; 
                else document.getElementById("player").style.background = "blue"; 
                if (nbxy == -1)
                {
                    document.getElementById("piece"
                    + String(Number(bxy[0]) * 16 + Number(bxy[1]))).onclick = function() {
                        control(nx, ny); 
                    }
                    document.getElementById("piece"
                    + String(Number(bxy[0]) * 16 + Number(bxy[1]))).style = pos(nx, ny); 
                    board[x][y] = -1; board[nx][ny] = bxy; 
                }
                else if (nbxy[5][0] == 1 && bxy[5][0] == 0)
                {
                    sbxy = -1; 
                    if (bxy[5].length > 1)
                    {
                        document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).style = pos(x, y); 
                        document.getElementById("piece"
                        + String(Number(bxy[5][1][0]) * 16 + Number(bxy[5][1][1]))).onclick = function() {
                            control(x, y); 
                        }
                        sbxy = bxy[5][1]; 
                        bxy[5] = [0]; 
                        bxy[4] = [bxy[4][0]]; 
                    }
                    if (nbxy[5][1] == 0 && nbxy[0] == player)
                    {
                        nbxy[5][1] = 1; 
                        if (!haveSkill(x, y, 0) && !(haveSkill(x, y, 13) && ltSkill[1 - player]))
                        {
                            bxy[3]--; 
                            board[x][y] = bxy; 
                            board[nx][ny] = nbxy; 
                            findDead(); 
                            if (bxy[3] <= 0) return; 
                        }
                    }
                    bxy[5].push(nbxy); 
                    bxy[4].push(nbxy[4][0]); 
                    document.getElementById("piece"
                    + String(Number(bxy[0]) * 16 + Number(bxy[1]))).onclick = function() {
                        control(nx, ny); 
                    }
                    document.getElementById("piece"
                    + String(Number(nbxy[0]) * 16 + Number(nbxy[1]))).style.display = "none"; 
                    document.getElementById("piece"
                    + String(Number(bxy[0]) * 16 + Number(bxy[1]))).style = pos(nx, ny); 
                    board[nx][ny] = bxy; 
                    board[x][y] = sbxy; 
                }
                else
                {
                    if (!(haveSkill(nx, ny, 0) && Math.floor(Math.random() * 11) % 2 == 1)
                    && !(haveSkill(nx, ny, 13) && ltSkill[player]))
                    {
                        let atk = attack[bxy[1]] + attackAddition; 
                        if (haveSkill(nx, ny, 10))
                        {
                            atk = 1; 
                            alert("bone-broken.png", "A Clavicle is Broken!")
                        }
                        let hurt = attacking(atk, nx, ny); 
                        if (haveSkill(x, y, 11)) board[x][y][3] = min(10, bxy[3] + hurt); 
                    }
                    if (!haveSkill(x, y, 0) && !(haveSkill(x, y, 13) && ltSkill[1 - player]))
                    {
                        attacking(1, x, y); 
                    }
                    findDead(); 
                    if (board[x][y] != -1 && board[nx][ny] == -1)
                    {
                        document.getElementById("piece" + String(Number(board[x][y][0]) * 16
                        + Number(board[x][y][1]))).style = pos(nx, ny); 
                        document.getElementById("piece" + String(Number(board[x][y][0]) * 16
                        + Number(board[x][y][1]))).onclick = function () {
                            control(nx, ny); 
                        }
                        board[nx][ny] = board[x][y]; 
                        board[x][y] = -1; 
                    }
                    if (haveSkill(nx, ny, 6) && board[nx][ny] != -1)
                    {
                        let plx = 0, ply = 0; 
                        if (nx > x && nx - x > Math.abs(ny - y)) plx = 1; 
                        if (nx < x && x - nx > Math.abs(y - ny)) plx = -1; 
                        if (ny > y && ny - y > Math.abs(nx - x)) ply = 1; 
                        if (ny < y && y - ny > Math.abs(x - nx)) ply = -1; 
                        if (!(nx + plx >= 8 || nx + plx < 0 || ny + ply >= 8 || ny + ply < 0
                        || shown[nx + plx][ny + ply] == -1 || board[nx + plx][ny + ply] != -1))
                        {
                            nbxy = board[nx][ny]; 
                            board[nx][ny] = -1; 
                            nx += plx, ny += ply; 
                            board[nx][ny] = nbxy; 
                            document.getElementById("piece" + String(Number(board[nx][ny][0]) * 16
                            + Number(board[nx][ny][1]))).style = pos(nx, ny); 
                            document.getElementById("piece" + String(Number(board[nx][ny][0]) * 16
                            + Number(board[nx][ny][1]))).onclick = function () {
                                control(nx, ny); 
                            }
                        }
                    }
                }
                $("#showSkill").empty(); 
                let qhy = document.getElementById("piece" + String(16 * (1 - Number(player)) + 3)); 
                let qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                qhy = document.getElementById("piece" + String(16 * Number(player) + 3)); 
                qx = posB(qhy)[0], qy = posB(qhy)[1]; 
                if (qhy.innerHTML == "qhy" && Math.random() < 0.5 && shown[qx][qy] != -1 && qy < 8)
                {
                    document.getElementById("showSkill").innerHTML
                    += "<div class=\"effect-frozen\" style=\"" + pos(qx, qy) + "\"></div>"; 
                    effect[qx][qy] = 0; 
                }
                else effect[qx][qy] = -1; 
                if (ltSkill[1 - player])
                {
                    let lt = document.getElementById("piece" + String(16 * Number(1 - player) + 2)); 
                    lt.style.opacity = "0.5"; 
                    let ltx = posB(lt)[0], lty = posB(lt)[1]; 
                    ltSkill[1 - player]--; 
                    if (ltSkill[1 - player] == 0)
                    {
                        attacking(20, ltx, lty); 
                        findDead(); 
                        if (board[ltx][lty] != -1)
                        {
                            attacking(20, ltx, lty); 
                            findDead(); 
                        }
                    }
                }
                if (ltSkill[player])
                    document.getElementById("piece" + String(16 * Number(player) + 2)).style.opacity = "0.5"; 
            }
            function giveUp() {
                if (player == 0)
                {
                    alert("congratulations.png", "Blue Wins!"); 
                }
                else
                {
                    alert("congratulations.png", "Red Wins!"); 
                }
            }
            function alert(img, head, text="") {
                document.getElementById("alert-img").src = "../../img/" + img; 
                if (img == "bone-broken.png" || img == "bone-explode.png")
                    document.getElementById("alert-img").style.height = "160px"; 
                else document.getElementById("alert-img").style.height = "200px"; 
                document.getElementById("alert-head").innerHTML = head; 
                document.getElementById("alert-text").innerHTML = text; 
                $("#alert").fadeIn(); 
            }
        </script>
    </head>
    <body>
        <table class="table">
            <tbody id="board">
                <tr><td onclick="showPiece(0, 0, this)"></td><td onclick="showPiece(0, 1, this)"></td>
                    <td onclick="showPiece(0, 2, this)"></td><td onclick="showPiece(0, 3, this)"></td>
                    <td onclick="showPiece(0, 4, this)"></td><td onclick="showPiece(0, 5, this)"></td>
                    <td onclick="showPiece(0, 6, this)"></td><td onclick="showPiece(0, 7, this)"></td></tr>
                <tr><td onclick="showPiece(1, 0, this)"></td><td onclick="showPiece(1, 1, this)"></td>
                    <td onclick="showPiece(1, 2, this)"></td><td onclick="showPiece(1, 3, this)"></td>
                    <td onclick="showPiece(1, 4, this)"></td><td onclick="showPiece(1, 5, this)"></td>
                    <td onclick="showPiece(1, 6, this)"></td><td onclick="showPiece(1, 7, this)"></td></tr>
                <tr><td onclick="showPiece(2, 0, this)"></td><td onclick="showPiece(2, 1, this)"></td>
                    <td onclick="showPiece(2, 2, this)"></td><td onclick="showPiece(2, 3, this)"></td>
                    <td onclick="showPiece(2, 4, this)"></td><td onclick="showPiece(2, 5, this)"></td>
                    <td onclick="showPiece(2, 6, this)"></td><td onclick="showPiece(2, 7, this)"></td></tr>
                <tr><td onclick="showPiece(3, 0, this)"></td><td onclick="showPiece(3, 1, this)"></td>
                    <td onclick="showPiece(3, 2, this)"></td><td onclick="showPiece(3, 3, this)"></td>
                    <td onclick="showPiece(3, 4, this)"></td><td onclick="showPiece(3, 5, this)"></td>
                    <td onclick="showPiece(3, 6, this)"></td><td onclick="showPiece(3, 7, this)"></td></tr>
                <tr><td onclick="showPiece(4, 0, this)"></td><td onclick="showPiece(4, 1, this)"></td>
                    <td onclick="showPiece(4, 2, this)"></td><td onclick="showPiece(4, 3, this)"></td>
                    <td onclick="showPiece(4, 4, this)"></td><td onclick="showPiece(4, 5, this)"></td>
                    <td onclick="showPiece(4, 6, this)"></td><td onclick="showPiece(4, 7, this)"></td></tr>
                <tr><td onclick="showPiece(5, 0, this)"></td><td onclick="showPiece(5, 1, this)"></td>
                    <td onclick="showPiece(5, 2, this)"></td><td onclick="showPiece(5, 3, this)"></td>
                    <td onclick="showPiece(5, 4, this)"></td><td onclick="showPiece(5, 5, this)"></td>
                    <td onclick="showPiece(5, 6, this)"></td><td onclick="showPiece(5, 7, this)"></td></tr>
                <tr><td onclick="showPiece(6, 0, this)"></td><td onclick="showPiece(6, 1, this)"></td>
                    <td onclick="showPiece(6, 2, this)"></td><td onclick="showPiece(6, 3, this)"></td>
                    <td onclick="showPiece(6, 4, this)"></td><td onclick="showPiece(6, 5, this)"></td>
                    <td onclick="showPiece(6, 6, this)"></td><td onclick="showPiece(6, 7, this)"></td></tr>
                <tr><td onclick="showPiece(7, 0, this)"></td><td onclick="showPiece(7, 1, this)"></td>
                    <td onclick="showPiece(7, 2, this)"></td><td onclick="showPiece(7, 3, this)"></td>
                    <td onclick="showPiece(7, 4, this)"></td><td onclick="showPiece(7, 5, this)"></td>
                    <td onclick="showPiece(7, 6, this)"></td><td onclick="showPiece(7, 7, this)"></td></tr>
            </tbody>
        </table>
        <div class="box" id="control"
        style="position: absolute; left: 8px; top: 59px; padding: 20px 20px 10px 20px; 
        width: 370px; height: 210px; display: none;">
            <img id="control-img" src="" style="width: 100px;"><br>
            <b onclick="openName(this.innerHTML)" style="cursor: pointer;" id="control-name"></b>
            <div id="blood" style="max-width: 100px;"></div>
            <div id="ridable"></div>
            <div style="position: absolute; left: 130px; top: 20px; max-width: 245px;
            word-break: break-all; ">技能：
            <ul id="skill" style="overflow-y: scroll; max-height: 80px;"></ul></div>
            <div style="position: absolute; left: 130px; top: 130px; max-width: 245px;
            word-break: break-all; ">坐骑：
            <a id="horse">无</a>
            <div id="horse-blood"></div><ul id="horse-skill"
            style="overflow-y: scroll; max-height: 40px; margin-top: -5px;"></ul></div>
        </div>
        <div class="button" onclick="location = '../'" style="position: absolute; bottom: 5px; left: 8px;" title="Home">
            <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/home_black_24dp.png">
        </div>
        <div class="button" onclick="giveUp()" style="position: absolute; bottom: 5px; left: 56px;" title="Give up">
            <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/flag_black_24dp.png">
        </div>
        <div class="button" onclick="$('#notice').slideToggle()"
        style="position: absolute; bottom: 5px; left: 104px;" title="Notice Board">
            <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/warning_black_24dp.png">
        </div>
        <div class="button" title="About" onclick="
        alert('instruction.png', 'About . . .'
        , 'The higher level pieces can eat the lower ones. '
        + '<hr><small>Version 1.1.4' 
        + '<ul><li>Add skill to QJH & XRY</li></ul></small>'
        + '<hr><small>Version 1.1.3.1' 
        + '<ul><li>Add KPQ\'s skill</li><li>Fix a bug of LT\'s skill</li></ul></small>'
        + '<hr><small>Version 1.1.3' 
        + '<ul><li>Add broken clavicle & exploding clavicle</li><li>Add skill to LT & HYK</li>'
        + '<li>HYK can be ridden</li></ul></small>'
        + '<hr><small>Version 1.1.2.2'
        + '<ul><li>Change WYX\'s blood as clavicle</li></ul></small>'
        + '<hr><small>Version 1.1.2.1'
        + '<ul><li>Fix two bugs</li><li>Add skill to MBJ</li></ul></small>'
        + '<hr><small>Version 1.1.2'
        + '<ul><li>Add skill to WYX & KYL</li><li>Change the skill of QHY</li><li>Fix a few bugs</li></ul></small>'
        + '<hr><small>Version 1.1.1.6'
        + '<ul><li>Fix two bugs</li></ul></small>'
        + '<hr><small>Version 1.1.1.5'
        + '<ul><li>Add skill to YZH</li><li>Riding the horses of your enemy will hurt you</li></ul></small>'
        + '<hr><small>Version 1.1.1'
        + '<ul><li>Change the execution of skills</li><li>LYF & KPQ & MBJ & YZH can be ridden</li>'
        + '<li>Add skill to LYF & KPQ</li><li>Move WYX to the 2nd level</li></ul></small>'
        + '<hr><small>Version 1.1.0'
        + '<ul><li>Fix a bug</li><li>Add higher attack to the higher levels</li>'
        + '<li>Beautify the pop-up window</li><li>Add CSH to chess</li><li>Move WYX to the 3rd level</li>'
        + '<li>Add skill to CYB & YBJ & QHY & CSH</li></ul></small>'
        + '<hr><small>Version 1.0'
        + '<ul><li>Create the game. </li></ul></small>'
        + '<hr><small>Copyright (c) 2021 Max Yellow. All rights reserved.</small>')"
        style="position: absolute; bottom: 5px; left: 152px;">
            <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/help_black_24dp.png">
        </div>
        <div class="button"
        style="position: absolute; bottom: 5px; right: 8px; cursor: auto;">
            <div style="background: red; width: 20px; height: 20px;
            margin-left: 2px; margin-top: 2px;" id="player"></div>
        </div>
        <div id="go"></div>
        <div id="showSkill"></div>
        <div id="alert" class="box" style="padding: 20px 20px 20px 20px; 
        position: absolute; left: 550px; top: 100px; width: 200px; display: none;">
            <img src="" style="height: 200px;" id="alert-img">
            <h2 style="text-align: center;" id="alert-head"></h2>
            <div id="alert-text" style="max-height: 100px; overflow-y: scroll;"></div><br>
            <div class="button" onclick="location.reload()">
                <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/refresh_black_24dp.png">
            </div>
            <div class="button" onclick="$('#alert').fadeOut()">
                <img src="https://www.gstatic.com/images/icons/material/system_gm/1x/close_black_24dp.png">
            </div>
        </div>
        <div><ul class="menu-box box" id="notice">
            <li class="menu-item" onclick="alert('notice.png', 'Communicate with Me', 
            '<b>Do NOT find me on QQ. </b>If you want to find me, '
            + 'please email me at maxyellowyu@gmail.com or mx3200494857@163.com')">Communicate with Me
            <span>TOP</span></li>
            <li class="menu-item" onclick="alert('notice.png', 'Give Me Some Advice', 
            'If you have some good ideas about the skills of the ones '
            + 'who haven\'t had a skill yet, you can email me at maxyellowyu@gmail.com')">Give Me Some Advice</li>
            <li class="devider"></li>
            <li class="menu-item" onclick="alert('instruction.png', 'Version 1.1.4', 
            '<ul><li>Add skill to QJH & XRY</li></ul>')">
            Version 1.1.4</li>
        </ul></div>
    </body>
</html>